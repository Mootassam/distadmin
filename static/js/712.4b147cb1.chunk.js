"use strict";(self.webpackChunkapp_frontend=self.webpackChunkapp_frontend||[]).push([[712],{89994:function(n,e,r){var t=r(42982),a=r(6473),i=r(10499),l=r(70816),o=r.n(l),u={generic:function(n){return a.nK().label(n)},string:function(n,e){e=e||{};var r=a.Z_().transform((function(n,e){return""===e?null:n})).nullable(!0).trim().label(n);return e.required&&(r=r.required()),(e.min||0===e.min)&&(r=r.min(e.min)),e.max&&(r=r.max(e.max)),e.matches&&(r=r.matches(e.matches)),r},boolean:function(n,e){return a.Xg().default(!1).label(n)},relationToOne:function(n,e){e=e||{};var r=a.nK().nullable(!0).label(n).transform((function(n,e){return e?e.id:null}));return e.required&&(r=r.required()),r},stringArray:function(n,e){e=e||{};var r=a.IX().compact().ensure().of(a.Z_().transform((function(n,e){return""===e?null:n})).trim()).label(n);return(e.required||e.min)&&(r=r.required()),e.min||0===e.min?r=r.min(e.min):e.required&&(r=r.min(1)),e.max&&(r=r.max(e.max)),r},relationToMany:function(n,e){e=e||{};var r=a.IX().nullable(!0).label(n).transform((function(n,e){return e&&e.length?e.map((function(n){return n.id})):[]}));return(e.required||e.min)&&(r=r.required()),e.min||0===e.min?r=r.min(e.min):e.required&&(r=r.min(1)),e.max&&(r=r.max(e.max)),r},integer:function(n,e){e=e||{};var r=a.Rx().transform((function(n,e){return""===e?null:n})).integer().nullable(!0).label(n);return e.required&&(r=r.required()),(e.min||0===e.min)&&(r=r.min(e.min)),e.max&&(r=r.max(e.max)),r},images:function(n,e){e=e||{};var r=a.IX().nullable(!0).label(n);return(e.required||e.min)&&(r=r.required()),e.min||0===e.min?r=r.min(e.min):e.required&&(r=r.min(1)),e.max&&(r=r.max(e.max)),r},files:function(n,e){e=e||{};var r=a.IX().compact().ensure().nullable(!0).label(n);return(e.required||e.min)&&(r=r.required()),e.min||0===e.min?r=r.min(e.min):e.required&&(r=r.min(1)),e.max&&(r=r.max(e.max)),r},enumerator:function(n,e){e=e||{};var r=a.Z_().transform((function(n,e){return""===e?null:n})).label(n).nullable(!0).oneOf([null].concat((0,t.Z)(e.options||[])));return e.required&&(r=r.required((0,i.ag)("validation.string.selected"))),r},email:function(n,e){e=e||{};var r=a.Z_().transform((function(n,e){return""===e?null:n})).nullable(!0).trim().label(n).email();return e.required&&(r=r.required()),(e.min||0===e.min)&&(r=r.min(e.min)),e.max&&(r=r.max(e.max)),e.matches&&(r=r.matches(e.matches)),r},decimal:function(n,e){e=e||{};var r=a.Rx().transform((function(n,e){return""===e?null:n})).nullable(!0).label(n);return e.required&&(r=r.required()),(e.min||0===e.min)&&(r=r.min(e.min)),e.max&&(r=r.max(e.max)),r},datetime:function(n,e){e=e||{};var r=a.nK().nullable(!0).label(n).transform((function(n,e){return n?o()(e,"YYYY-MM-DD HH:mm").toISOString():null}));return e.required&&(r=r.required()),r},date:function(n,e){e=e||{};var r=a.nK().nullable(!0).label(n).test("is-date",(0,i.ag)("validation.mixed.default"),(function(n){return!n||o()(n,"YYYY-MM-DD").isValid()})).transform((function(n){return n?o()(n).format("YYYY-MM-DD"):null}));return e.required&&(r=r.required()),r}};e.Z=u},38712:function(n,e,r){r.r(e),r.d(e,{default:function(){return P}});var t=r(47313),a=r(10499),i=r(13385),l=r(27829),o=r(1413),u=r(70885),s=r(43270),c=r(45788),d=r(25976),m=r(76747),f=function(n){return n.settings},g=(0,m.P1)([f],(function(n){return n.settings})),h={selectInitLoading:(0,m.P1)([f],(function(n){return Boolean(n.initLoading)})),selectSaveLoading:(0,m.P1)([f],(function(n){return Boolean(n.saveLoading)})),selectSettings:g,selectRaw:f},x=r(95748),b=r(5544),v=r(68160),p=r(6473),Z={theme:[{id:"default",hex:"#1890ff"},{id:"light",hex:"#f8f9fa"},{id:"cyan",hex:"#13c2c2"},{id:"geek-blue",hex:"#2f54eb"},{id:"gold",hex:"#faad14"},{id:"lime",hex:"#a0d911"},{id:"magenta",hex:"#eb2f96"},{id:"orange",hex:"#fa8c16"},{id:"polar-green",hex:"#52c41a"},{id:"purple",hex:"#722ed1"},{id:"red",hex:"#f5222d"},{id:"volcano",hex:"#fa541c"},{id:"yellow",hex:"#fadb14"}]},j=r(85543),q=r(96111),C=r(89994),y=r(67357),N=r(46417),k=p.Ry().shape({theme:p.Z_().transform((function(n,e){return""===e?null:n})).nullable(!0).trim().label((0,a.ag)("settings.fields.theme")).required(),logos:C.Z.files((0,a.ag)("settings.fields.logos"),{max:1}),backgroundImages:C.Z.files((0,a.ag)("settings.fields.backgroundImages"),{max:1})});var I=function(n){var e=(0,c.I0)(),r=(0,c.v9)(h.selectSaveLoading),i=n.settings,l=(0,t.useState)((function(){return(0,o.Z)((0,o.Z)({},i||{}),{},{theme:i&&i.theme||"default"})})),m=(0,u.Z)(l,1)[0],f=(0,s.cI)({resolver:(0,y.X)(k),mode:"all",defaultValues:m}),g=function(n){e(d.Z.doSave(n))};return(0,N.jsx)(v.Z,{children:(0,N.jsx)(s.RV,(0,o.Z)((0,o.Z)({},f),{},{children:(0,N.jsxs)("form",{onSubmit:f.handleSubmit(g),children:[(0,N.jsxs)("div",{className:"row",children:[(0,N.jsx)("div",{className:"col-lg-7 col-md-8 col-12",children:(0,N.jsx)(b.Z,{name:"theme",label:(0,a.ag)("settings.fields.theme"),options:Z.theme.map((function(n){return{value:n.id,label:(0,a.ag)("settings.colors.".concat(n.id))}})),required:!0})}),(0,N.jsx)("div",{className:"col-lg-7 col-md-8 col-12",children:(0,N.jsx)(j.Z,{name:"logos",label:(0,a.ag)("settings.fields.logos"),storage:q.Z.values.settingsLogos,max:1})}),(0,N.jsx)("div",{className:"col-lg-7 col-md-8 col-12",children:(0,N.jsx)(j.Z,{name:"backgroundImages",label:(0,a.ag)("settings.fields.backgroundImages"),storage:q.Z.values.settingsBackgroundImages,max:1})})]}),(0,N.jsxs)("div",{className:"form-buttons",children:[(0,N.jsxs)("button",{className:"btn btn-primary",disabled:r,type:"button",onClick:f.handleSubmit(g),children:[(0,N.jsx)(x.Z,{loading:r,iconClass:"far fa-save"}),(0,a.ag)("common.save")]}),(0,N.jsxs)("button",{disabled:r,onClick:function(){Object.keys(m).forEach((function(n){f.setValue(n,m[n])}))},className:"btn btn-light",type:"button",children:[(0,N.jsx)("i",{className:"fas fa-undo"}),(0,a.ag)("common.reset")]}),n.onCancel?(0,N.jsxs)("button",{disabled:r,onClick:function(){return n.onCancel()},className:"btn btn-light",type:"button",children:[(0,N.jsx)("i",{className:"fas fa-times"}),(0,a.ag)("common.cancel")]}):null]})]})}))})},S=r(23516),M=r(28303),B=r(10419);var Y=function(n){var e=(0,c.v9)(S.Z.selectPermissionToRead);return(0,N.jsx)(B.Z,{style:{marginBottom:"16px"},children:e&&(0,N.jsx)(M.rU,{to:"/audit-logs?entityNames=settings",children:(0,N.jsxs)("button",{className:"btn btn-light",type:"button",children:[(0,N.jsx)(x.Z,{iconClass:"fas fa-history"}),(0,a.ag)("auditLog.menu")]})})})},w=r(53852),D=r(75352),V=r(61567),P=function(n){var e=(0,c.I0)(),r=(0,c.v9)(h.selectInitLoading),o=(0,c.v9)(h.selectSettings);return(0,t.useEffect)((function(){e(d.Z.doInit())}),[]),(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(w.Z,{items:[[(0,a.ag)("dashboard.menu"),"/"],[(0,a.ag)("settings.title")]]}),(0,N.jsxs)(l.Z,{children:[(0,N.jsx)(D.Z,{children:(0,a.ag)("settings.title")}),(0,N.jsx)(Y,{}),r&&(0,N.jsx)(V.Z,{}),!r&&o&&(0,N.jsx)(I,{settings:o,onCancel:function(){return(0,i.s1)().push("/")}})]})]})}},61567:function(n,e,r){r(47313);var t=r(46417);e.Z=function(){return(0,t.jsx)("div",{style:{width:"100%",marginTop:"24px",marginBottom:"24px",display:"flex",justifyContent:"center",alignContent:"center",alignItems:"center"},children:(0,t.jsx)("div",{className:"spinner-border text-primary"})})}},49384:function(n,e,r){r.d(e,{Z:function(){return i}});var t=r(15671),a=r(43144),i=function(){function n(){(0,t.Z)(this,n)}return(0,a.Z)(n,null,[{key:"errorMessage",value:function(n,e,r,t){var a,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(i)return i;if(!t&&!r[n])return null;var l=e[n];return(null===l||void 0===l||null===(a=l[0])||void 0===a?void 0:a.message)||(null===l||void 0===l?void 0:l.message)||l||null}}]),n}()},85543:function(n,e,r){var t=r(47313),a=r(79183),i=r(43270),l=r(49384),o=r(46417);function u(n){var e=n.label,r=n.name,u=n.hint,s=n.storage,c=n.max,d=n.required,m=n.externalErrorMessage,f=(0,i.Gc)(),g=f.errors,h=f.formState,x=h.touched,b=h.isSubmitted,v=f.setValue,p=f.watch,Z=f.register;(0,t.useEffect)((function(){Z({name:r})}),[Z,r]);var j=l.Z.errorMessage(r,g,x,b,m);return(0,o.jsxs)("div",{className:"form-group",children:[Boolean(e)&&(0,o.jsx)("label",{className:"col-form-label ".concat(d?"required":null),htmlFor:r,children:e}),(0,o.jsx)("br",{}),(0,o.jsx)(a.Z,{storage:s,value:p(r),onChange:function(e){v(r,e,{shouldValidate:!0,shouldDirty:!0}),n.onChange&&n.onChange(e)},max:c}),(0,o.jsx)("div",{className:"invalid-feedback",children:j}),Boolean(u)&&(0,o.jsx)("small",{className:"form-text text-muted",children:u})]})}u.defaultProps={max:void 0,required:!1},e.Z=u},5544:function(n,e,r){var t=r(1413),a=r(47313),i=r(73622),l=r(10499),o=r(43270),u=r(49384),s=r(46417);function c(n){var e=n.label,r=n.name,c=n.hint,d=n.options,m=n.required,f=n.mode,g=n.placeholder,h=n.isClearable,x=n.externalErrorMessage,b=(0,o.Gc)(),v=b.register,p=b.errors,Z=b.formState,j=Z.touched,q=Z.isSubmitted,C=b.setValue,y=b.watch,N=u.Z.errorMessage(r,p,j,q,x),k=y(r);(0,a.useEffect)((function(){v({name:r})}),[v,r]);var I=function(){return k?k.map((function(n){return d.find((function(e){return e.value===n}))})):[]},S=function(){var e=n.options;return null!=k?e.find((function(n){return n.value===k})):null},M=function(e){if(!e)return C(r,[],{shouldValidate:!0,shouldDirty:!0}),void(n.onChange&&n.onChange([]));var t=e.map((function(n){return n?n.value:n})).filter((function(n){return null!=n}));C(r,t,{shouldValidate:!0,shouldDirty:!0}),n.onChange&&n.onChange(t)},B=function(e){if(!e)return C(r,null,{shouldValidate:!0,shouldDirty:!0}),void(n.onChange&&n.onChange(null));C(r,e.value,{shouldValidate:!0,shouldDirty:!0}),n.onChange&&n.onChange(e.value)},Y=Boolean(N)?{container:function(n){return(0,t.Z)((0,t.Z)({},n),{},{color:"hsl(0,0%,20%)"})},control:function(n){return(0,t.Z)((0,t.Z)({},n),{},{borderColor:"red"})}}:{container:function(n){return(0,t.Z)((0,t.Z)({},n),{},{color:"hsl(0,0%,20%)"})}};return(0,s.jsxs)("div",{className:"form-group",children:[Boolean(e)&&(0,s.jsx)("label",{className:"col-form-label ".concat(m?"required":null),children:e}),(0,s.jsx)("br",{}),(0,s.jsx)(i.ZP,{className:"w-100",value:"multiple"===n.mode?I():S(),onChange:function(e){return"multiple"===n.mode?M(e):B(e)},onBlur:function(e){n.onBlur&&n.onBlur(e)},id:r,name:r,options:d,isMulti:"multiple"===f,placeholder:g||"",isClearable:h,styles:Y,loadingMessage:function(){return(0,l.ag)("autocomplete.loading")},noOptionsMessage:function(){return(0,l.ag)("autocomplete.noOptions")}}),(0,s.jsx)("div",{className:"invalid-feedback",children:N}),Boolean(c)&&(0,s.jsx)("small",{className:"form-text text-muted",children:c})]})}c.defaultProps={required:!1,isClearable:!0},e.Z=c},68160:function(n,e,r){var t,a=r(30168),i=r(38269).ZP.div(t||(t=(0,a.Z)(["\n  padding-top: 0;\n  padding-bottom: 0;\n\n  label.required::before {\n    display: inline-block;\n    margin-right: 4px;\n    content: '*';\n    line-height: 1;\n    font-size: 13px;\n    color: #f5222d;\n  }\n  .app__specification {\n    padding: 14px;\n  }\n  .react-datepicker-wrapper {\n    width: 100%;\n  }\n  i {\n    padding-right: 4px;\n    font-size: 14px;\n  }\n  .adherent-control {\n    z-index: 0;\n  }\n\n  .invalid-feedback {\n    display: block;\n  }\n\n  .form-buttons {\n    padding-top: 16px;\n\n    .btn {\n      margin-right: 8px;\n      margin-bottom: 8px;\n    }\n  }\n"])));e.Z=i},10419:function(n,e,r){var t,a=r(30168),i=r(38269).ZP.div(t||(t=(0,a.Z)(["\n  margin-bottom: 8px;\n\n  .btn {\n    margin-right: 8px;\n    margin-bottom: 8px;\n  }\n"])));e.Z=i},73622:function(n,e,r){r(47313),r(83235),r(1168);var t=r(85732),a=(r(96312),r(71902),r(87201));r(94297);var i=(0,a.m)(t.S);e.ZP=i}}]);