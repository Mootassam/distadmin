"use strict";(self.webpackChunkapp_frontend=self.webpackChunkapp_frontend||[]).push([[256],{63442:function(e,a,n){var s=n(17366),t={status:["active","empty-permissions"],genre:["male","female"],roles:Object.keys(s.Z.values)};a.Z=t},15021:function(e,a,n){var s=n(76747),t=n(86495),r=n(26319),l=n(71945),o=(0,s.P1)([t.Z.selectCurrentTenant,t.Z.selectCurrentUser],(function(e,a){return new r.Z(e,a).match(l.Z.values.userRead)})),c=(0,s.P1)([t.Z.selectCurrentTenant,t.Z.selectCurrentUser],(function(e,a){return new r.Z(e,a).match(l.Z.values.userEdit)})),i=(0,s.P1)([t.Z.selectCurrentTenant,t.Z.selectCurrentUser],(function(e,a){return new r.Z(e,a).match(l.Z.values.userDestroy)})),u={selectPermissionToRead:o,selectPermissionToEdit:c,selectPermissionToCreate:(0,s.P1)([t.Z.selectCurrentTenant,t.Z.selectCurrentUser],(function(e,a){return new r.Z(e,a).match(l.Z.values.userCreate)})),selectPermissionToImport:(0,s.P1)([t.Z.selectCurrentTenant,t.Z.selectCurrentUser],(function(e,a){return new r.Z(e,a).match(l.Z.values.userImport)})),selectPermissionToDestroy:i};a.Z=u},47575:function(e,a,n){n(47313);var s=n(43270),t=n(49384),r=n(46417);function l(e){var a=e.label,n=e.description,l=e.name,o=e.hint,c=e.type,i=e.placeholder,u=e.autoFocus,d=e.autoComplete,m=e.required,f=e.externalErrorMessage,h=e.disabled,x=e.endAdornment,v=(0,s.Gc)(),Z=v.register,g=v.errors,b=v.formState,j=b.touched,p=b.isSubmitted,N=t.Z.errorMessage(l,g,j,p,f);return(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsxs)("div",{className:x?"input-group":"",children:[Boolean(a)&&(0,r.jsx)("label",{className:"col-form-label ".concat(m?"required":null),htmlFor:l,children:a}),n,(0,r.jsx)("input",{id:l,name:l,type:c,ref:Z,onChange:function(a){e.onChange&&e.onChange(a.target.value)},onBlur:function(a){e.onBlur&&e.onBlur(a)},placeholder:i||void 0,autoFocus:u||void 0,autoComplete:d||void 0,disabled:h,className:"form-control ".concat(N?"is-invalid":"")}),x&&(0,r.jsx)("div",{className:"input-group-append",children:(0,r.jsx)("span",{className:"input-group-text",children:x})})]}),(0,r.jsx)("div",{className:"invalid-feedback",children:N}),Boolean(o)&&(0,r.jsx)("small",{className:"form-text text-muted",children:o})]})}l.defaultProps={type:"text",required:!1},a.Z=l},5544:function(e,a,n){var s=n(1413),t=n(47313),r=n(73622),l=n(10499),o=n(43270),c=n(49384),i=n(46417);function u(e){var a=e.label,n=e.name,u=e.hint,d=e.options,m=e.required,f=e.mode,h=e.placeholder,x=e.isClearable,v=e.externalErrorMessage,Z=(0,o.Gc)(),g=Z.register,b=Z.errors,j=Z.formState,p=j.touched,N=j.isSubmitted,C=Z.setValue,y=Z.watch,w=c.Z.errorMessage(n,b,p,N,v),P=y(n);(0,t.useEffect)((function(){g({name:n})}),[g,n]);var k=function(){return P?P.map((function(e){return d.find((function(a){return a.value===e}))})):[]},S=function(){var a=e.options;return null!=P?a.find((function(e){return e.value===P})):null},E=function(a){if(!a)return C(n,[],{shouldValidate:!0,shouldDirty:!0}),void(e.onChange&&e.onChange([]));var s=a.map((function(e){return e?e.value:e})).filter((function(e){return null!=e}));C(n,s,{shouldValidate:!0,shouldDirty:!0}),e.onChange&&e.onChange(s)},R=function(a){if(!a)return C(n,null,{shouldValidate:!0,shouldDirty:!0}),void(e.onChange&&e.onChange(null));C(n,a.value,{shouldValidate:!0,shouldDirty:!0}),e.onChange&&e.onChange(a.value)},T=Boolean(w)?{container:function(e){return(0,s.Z)((0,s.Z)({},e),{},{color:"hsl(0,0%,20%)"})},control:function(e){return(0,s.Z)((0,s.Z)({},e),{},{borderColor:"red"})}}:{container:function(e){return(0,s.Z)((0,s.Z)({},e),{},{color:"hsl(0,0%,20%)"})}};return(0,i.jsxs)("div",{className:"form-group",children:[Boolean(a)&&(0,i.jsx)("label",{className:"col-form-label ".concat(m?"required":null),children:a}),(0,i.jsx)("br",{}),(0,i.jsx)(r.ZP,{className:"w-100",value:"multiple"===e.mode?k():S(),onChange:function(a){return"multiple"===e.mode?E(a):R(a)},onBlur:function(a){e.onBlur&&e.onBlur(a)},id:n,name:n,options:d,isMulti:"multiple"===f,placeholder:h||"",isClearable:x,styles:T,loadingMessage:function(){return(0,l.ag)("autocomplete.loading")},noOptionsMessage:function(){return(0,l.ag)("autocomplete.noOptions")}}),(0,i.jsx)("div",{className:"invalid-feedback",children:w}),Boolean(u)&&(0,i.jsx)("small",{className:"form-text text-muted",children:u})]})}u.defaultProps={required:!1,isClearable:!0},a.Z=u},44587:function(e,a,n){var s=n(47313),t=n(1168),r=n(46417);a.Z=function(e){var a=(0,s.useRef)();(0,s.useEffect)((function(){window.$(a.current).modal("show"),window.$(a.current).on("hidden.bs.modal",e.onClose)}),[]);return t.createPortal((0,r.jsx)("div",{ref:a,className:"modal",tabIndex:-1,children:(0,r.jsx)("div",{className:"modal-dialog modal-sm",children:(0,r.jsxs)("div",{className:"modal-content",children:[(0,r.jsxs)("div",{className:"modal-header",children:[(0,r.jsx)("h5",{className:"modal-title",children:e.title}),(0,r.jsx)("button",{type:"button",className:"close","data-dismiss":"modal",children:(0,r.jsx)("span",{children:"\xd7"})})]}),(0,r.jsxs)("div",{className:"modal-footer",children:[(0,r.jsx)("button",{type:"button",className:"btn btn-light btn-sm","data-dismiss":"modal",children:e.cancelText}),(0,r.jsx)("button",{type:"button",onClick:function(){return window.$(a.current).modal("hide"),e.onConfirm()},className:"btn btn-primary btn-sm",children:e.okText})]})]})})}),document.getElementById("modal-root"))}},4256:function(e,a,n){n.r(a),n.d(a,{default:function(){return z}});var s=n(47313),t=n(10499),r=n(27829),l=n(53852),o=n(75352),c=n(1413),i=n(70885),u=n(43270),d=n(45788),m=n(47590),f=n(15232),h=n(23377),x=n(63442),v=n(95748),Z=n(47575),g=n(5544),b=n(69138),j=n(6473),p=n(67357),N=n(13586),C=n(40846),y=n(46417),w=j.Ry().shape({fullName:m.Z.string((0,t.ag)("user.fields.fullName")),email:m.Z.email((0,t.ag)("user.fields.email")),role:m.Z.enumerator((0,t.ag)("user.fields.role")),mobile:m.Z.integer((0,t.ag)("Mobile")),secteur:m.Z.enumerator((0,t.ag)("Secteur")),employeur:m.Z.string((0,t.ag)("Employeur")),profession:m.Z.string((0,t.ag)("Profession")),adresse:m.Z.string((0,t.ag)("Adresse")),cin:m.Z.integer((0,t.ag)("C.I.N")),date_naissance:m.Z.dateRange((0,t.ag)("date Naissance")),etat_civil:m.Z.enumerator((0,t.ag)("Etat Civil")),status:m.Z.enumerator((0,t.ag)("Status")),lien_facebook:m.Z.string((0,t.ag)("Lien Facebook")),parrain:m.Z.enumerator((0,t.ag)("Parrain"))}),P={fullName:null,email:null,role:null,status:null},k={fullName:{label:(0,t.ag)("user.fields.fullName"),render:C.Z.generic()},email:{label:(0,t.ag)("user.fields.email"),render:C.Z.generic()},role:{label:(0,t.ag)("user.fields.role"),render:function(e){return e?(0,t.ag)("roles.".concat(e,".label")):null}},status:{label:(0,t.ag)("user.fields.status"),render:C.Z.enumerator("user.status")}};var S=function(e){var a=(0,d.v9)(h.Z.selectRawFilter),n=(0,d.I0)(),r=(0,s.useState)(!1),l=(0,i.Z)(r,2),o=l[0],m=l[1],j=(0,s.useState)((function(){return(0,c.Z)((0,c.Z)({},P),a)})),C=(0,i.Z)(j,1)[0],S=(0,u.cI)({resolver:(0,p.X)(w),defaultValues:C,mode:"all"});(0,s.useEffect)((function(){n(f.Z.doFetch(w.cast(C),a))}),[n]);var E=function(e){var a=S.getValues();n(f.Z.doFetch(e,a)),m(!1)},R=e.loading;return(0,y.jsxs)(b.Z,{children:[(0,y.jsx)(N.Z,{onClick:function(){m(!o)},renders:k,values:a,expanded:o,onRemove:function(e){return S.setValue(e,P[e]),S.handleSubmit(E)()}}),(0,y.jsx)("div",{className:"container",children:(0,y.jsx)("div",{className:"collapse ".concat(o?"show":""),children:(0,y.jsx)(u.RV,(0,c.Z)((0,c.Z)({},S),{},{children:(0,y.jsxs)("form",{onSubmit:S.handleSubmit(E),children:[(0,y.jsxs)("div",{className:"row",children:[(0,y.jsx)("div",{className:"col-lg-6 col-12",children:(0,y.jsx)(Z.Z,{name:"email",label:(0,t.ag)("user.fields.email")})}),(0,y.jsx)("div",{className:"col-lg-6 col-12",children:(0,y.jsx)(Z.Z,{name:"fullName",label:(0,t.ag)("user.fields.fullName")})}),(0,y.jsx)("div",{className:"col-lg-6 col-12",children:(0,y.jsx)(g.Z,{name:"status",label:(0,t.ag)("user.fields.status"),options:x.Z.status.map((function(e){return{value:e,label:(0,t.ag)("user.status.".concat(e))}}))})})]}),(0,y.jsx)("div",{className:"row",children:(0,y.jsxs)("div",{className:"col-12 filter-buttons",children:[(0,y.jsxs)("button",{className:"btn btn-primary",type:"submit",disabled:R,children:[(0,y.jsx)(v.Z,{loading:R,iconClass:"fas fa-search"}),(0,t.ag)("common.search")]}),(0,y.jsxs)("button",{className:"btn btn-light",type:"button",onClick:function(){Object.keys(P).forEach((function(e){S.setValue(e,P[e])})),n(f.Z.doReset()),m(!1)},disabled:R,children:[(0,y.jsx)(v.Z,{loading:R,iconClass:"fas fa-undo"}),(0,t.ag)("common.reset")]})]})})]})}))})})]})},E=n(15021),R=n(28303),T=n(97249),B=n(61567),F=n(98848),V=n(44587),D=n(17366);var I=function(e){var a=e.value;return a?"active"===a?(0,y.jsx)("span",{className:"badge badge-success",children:(0,t.ag)("user.status.active")}):"empty-permissions"===a?(0,y.jsx)("span",{className:"badge badge-danger",children:(0,t.ag)("user.status.empty-permissions")}):"inactive"===a?(0,y.jsx)("span",{className:"badge badge-dark",children:(0,t.ag)("user.status.inactive")}):(0,y.jsx)("span",{className:"badge badge-warning",children:(0,t.ag)("user.status.invited")}):null},M=n(31807),U=n(27216);var q=function(){var e=(0,d.I0)(),a=(0,s.useState)(null),n=(0,i.Z)(a,2),r=n[0],l=n[1],o=(0,d.v9)(h.Z.selectLoading),c=(0,d.v9)(h.Z.selectRows),u=(0,d.v9)(h.Z.selectPagination),m=((0,d.v9)(h.Z.selectSelectedKeys),(0,d.v9)(h.Z.selectHasRows)),x=(0,d.v9)(h.Z.selectSorter),v=((0,d.v9)(h.Z.selectIsAllSelected),(0,d.v9)(E.Z.selectPermissionToEdit)),Z=(0,d.v9)(E.Z.selectPermissionToDestroy),g=function(a){var n=x.field===a&&"ascend"===x.order?"descend":"ascend";e(f.Z.doChangeSort({field:a,order:n}))};return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(U.Z,{children:[(0,y.jsx)("div",{className:"table-responsive",children:(0,y.jsxs)("table",{className:"table table-striped     2",children:[(0,y.jsx)("thead",{className:"thead",children:(0,y.jsxs)("tr",{children:[(0,y.jsx)(F.Z,{className:"th-checkbox",children:m&&(0,y.jsx)("div",{className:"adherent-control adherent-checkbox",children:(0,y.jsx)("label",{htmlFor:"table-header-checkbox",className:"adherent-control-label",children:"\xa0"})})}),(0,y.jsx)(F.Z,{className:"text-center",label:(0,t.ag)("user.fields.avatars")}),(0,y.jsx)(F.Z,{onSort:g,hasRows:m,sorter:x,name:"email",label:(0,t.ag)("user.fields.email")}),(0,y.jsx)(F.Z,{onSort:g,hasRows:m,sorter:x,name:"fullName",label:(0,t.ag)("user.fields.fullName")}),(0,y.jsx)(F.Z,{label:(0,t.ag)("user.fields.roles")}),(0,y.jsx)(F.Z,{className:"text-center",label:(0,t.ag)("user.fields.status")}),(0,y.jsx)(F.Z,{className:"th-actions"})]})}),(0,y.jsxs)("tbody",{children:[o&&(0,y.jsx)("tr",{children:(0,y.jsx)("td",{colSpan:100,children:(0,y.jsx)(B.Z,{})})}),!o&&!m&&(0,y.jsx)("tr",{children:(0,y.jsx)("td",{colSpan:100,children:(0,y.jsx)("div",{className:"d-flex justify-content-center",children:(0,t.ag)("table.noData")})})}),!o&&(null===c||void 0===c?void 0:c.map((function(e){var a;return(0,y.jsxs)("tr",{children:[(0,y.jsx)("th",{className:"th-checkbox",scope:"row",children:(0,y.jsx)("div",{className:"adherent-control adherent-checkbox",children:(0,y.jsx)("label",{htmlFor:"table-header-checkbox-".concat(e.id),className:"adherent-control-label",children:"\xa0"})})}),(0,y.jsx)("td",{className:"text-center",children:(0,y.jsx)(M.Z,{src:e.avatars&&e.avatars.length?e.avatars[0].downloadUrl:void 0,alt:"avatar"})}),(0,y.jsx)("td",{children:e.email}),(0,y.jsx)("td",{children:e.fullName}),(0,y.jsx)("td",{children:null===e||void 0===e||null===(a=e.roles)||void 0===a?void 0:a.map((function(e){return(0,y.jsx)("div",{children:(0,y.jsx)("span",{children:D.Z.labelOf(e)})},e)}))}),(0,y.jsx)("td",{className:"text-center",children:(0,y.jsx)(I,{value:e.status})}),(0,y.jsxs)("td",{className:"td-actions",children:[(0,y.jsx)(R.rU,{to:"/user/logs/".concat(e.id),children:(0,y.jsx)("i",{className:"fas fa-history"})}),v&&(0,y.jsx)(R.rU,{className:"btn btn-link",to:"/user/".concat(e.id,"/edit"),children:(0,t.ag)("common.edit")}),Z&&(0,y.jsx)("button",{className:"btn btn-link",onClick:function(){return l(e.id)},children:(0,t.ag)("common.destroy")})]})]},e.id)})))]})]})}),(0,y.jsx)(T.Z,{onChange:function(a){e(f.Z.doChangePagination(a))},disabled:o,pagination:u})]}),r&&(0,y.jsx)(V.Z,{title:(0,t.ag)("common.areYouSure"),onConfirm:function(){return a=r,l(null),void e(f.Z.doDestroy(a));var a},onClose:function(){return l(null)},okText:(0,t.ag)("common.yes"),cancelText:(0,t.ag)("common.no")})]})},G=n(22102),O=n(63849),_=n(31616);var z=function(){return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(l.Z,{items:[[(0,t.ag)("dashboard.menu"),"/"],[(0,t.ag)("user.menu")]]}),(0,y.jsxs)(r.Z,{children:[(0,y.jsx)(G.Z,{fluid:!0,children:(0,y.jsxs)(O.Z,{children:[(0,y.jsx)(_.Z,{xs:9,children:(0,y.jsx)(o.Z,{children:(0,t.ag)("user.title")})}),(0,y.jsx)(_.Z,{md:"auto"})]})}),(0,y.jsx)(S,{}),(0,y.jsx)(q,{})]})]})}},31616:function(e,a,n){var s=n(70885),t=n(1413),r=n(45987),l=n(46123),o=n.n(l),c=n(47313),i=n(68524),u=n(46417),d=["as","bsPrefix","className"],m=["className"];var f=c.forwardRef((function(e,a){var n=function(e){var a=e.as,n=e.bsPrefix,s=e.className,l=(0,r.Z)(e,d);n=(0,i.vE)(n,"col");var c=(0,i.pi)(),u=(0,i.zG)(),m=[],f=[];return c.forEach((function(e){var a,s,t,r=l[e];delete l[e],"object"===typeof r&&null!=r?(a=r.span,s=r.offset,t=r.order):a=r;var o=e!==u?"-".concat(e):"";a&&m.push(!0===a?"".concat(n).concat(o):"".concat(n).concat(o,"-").concat(a)),null!=t&&f.push("order".concat(o,"-").concat(t)),null!=s&&f.push("offset".concat(o,"-").concat(s))})),[(0,t.Z)((0,t.Z)({},l),{},{className:o().apply(void 0,[s].concat(m,f))}),{as:a,bsPrefix:n,spans:m}]}(e),l=(0,s.Z)(n,2),c=l[0],f=c.className,h=(0,r.Z)(c,m),x=l[1],v=x.as,Z=void 0===v?"div":v,g=x.bsPrefix,b=x.spans;return(0,u.jsx)(Z,(0,t.Z)((0,t.Z)({},h),{},{ref:a,className:o()(f,!b.length&&g)}))}));f.displayName="Col",a.Z=f},22102:function(e,a,n){var s=n(1413),t=n(45987),r=n(46123),l=n.n(r),o=n(47313),c=n(68524),i=n(46417),u=["bsPrefix","fluid","as","className"],d=o.forwardRef((function(e,a){var n=e.bsPrefix,r=e.fluid,o=void 0!==r&&r,d=e.as,m=void 0===d?"div":d,f=e.className,h=(0,t.Z)(e,u),x=(0,c.vE)(n,"container"),v="string"===typeof o?"-".concat(o):"-fluid";return(0,i.jsx)(m,(0,s.Z)((0,s.Z)({ref:a},h),{},{className:l()(f,o?"".concat(x).concat(v):x)}))}));d.displayName="Container",a.Z=d},63849:function(e,a,n){var s=n(1413),t=n(45987),r=n(46123),l=n.n(r),o=n(47313),c=n(68524),i=n(46417),u=["bsPrefix","className","as"],d=o.forwardRef((function(e,a){var n=e.bsPrefix,r=e.className,o=e.as,d=void 0===o?"div":o,m=(0,t.Z)(e,u),f=(0,c.vE)(n,"row"),h=(0,c.pi)(),x=(0,c.zG)(),v="".concat(f,"-cols"),Z=[];return h.forEach((function(e){var a,n=m[e];delete m[e],a=null!=n&&"object"===typeof n?n.cols:n;var s=e!==x?"-".concat(e):"";null!=a&&Z.push("".concat(v).concat(s,"-").concat(a))})),(0,i.jsx)(d,(0,s.Z)((0,s.Z)({ref:a},m),{},{className:l().apply(void 0,[r,f].concat(Z))}))}));d.displayName="Row",a.Z=d},68524:function(e,a,n){n.d(a,{pi:function(){return o},vE:function(){return l},zG:function(){return c}});var s=n(47313),t=(n(46417),["xxl","xl","lg","md","sm","xs"]),r=s.createContext({prefixes:{},breakpoints:t,minBreakpoint:"xs"});r.Consumer,r.Provider;function l(e,a){var n=(0,s.useContext)(r).prefixes;return e||n[a]||a}function o(){return(0,s.useContext)(r).breakpoints}function c(){return(0,s.useContext)(r).minBreakpoint}},73622:function(e,a,n){n(47313),n(83235),n(1168);var s=n(85732),t=(n(96312),n(71902),n(87201));n(94297);var r=(0,t.m)(s.S);a.ZP=r}}]);