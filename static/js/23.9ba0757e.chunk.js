"use strict";(self.webpackChunkapp_frontend=self.webpackChunkapp_frontend||[]).push([[23],{89994:function(e,n,a){var r=a(42982),l=a(6473),i=a(10499),t=a(70816),s=a.n(t),o={generic:function(e){return l.nK().label(e)},string:function(e,n){n=n||{};var a=l.Z_().transform((function(e,n){return""===n?null:e})).nullable(!0).trim().label(e);return n.required&&(a=a.required()),(n.min||0===n.min)&&(a=a.min(n.min)),n.max&&(a=a.max(n.max)),n.matches&&(a=a.matches(n.matches)),a},boolean:function(e,n){return l.Xg().default(!1).label(e)},relationToOne:function(e,n){n=n||{};var a=l.nK().nullable(!0).label(e).transform((function(e,n){return n?n.id:null}));return n.required&&(a=a.required()),a},stringArray:function(e,n){n=n||{};var a=l.IX().compact().ensure().of(l.Z_().transform((function(e,n){return""===n?null:e})).trim()).label(e);return(n.required||n.min)&&(a=a.required()),n.min||0===n.min?a=a.min(n.min):n.required&&(a=a.min(1)),n.max&&(a=a.max(n.max)),a},relationToMany:function(e,n){n=n||{};var a=l.IX().nullable(!0).label(e).transform((function(e,n){return n&&n.length?n.map((function(e){return e.id})):[]}));return(n.required||n.min)&&(a=a.required()),n.min||0===n.min?a=a.min(n.min):n.required&&(a=a.min(1)),n.max&&(a=a.max(n.max)),a},integer:function(e,n){n=n||{};var a=l.Rx().transform((function(e,n){return""===n?null:e})).integer().nullable(!0).label(e);return n.required&&(a=a.required()),(n.min||0===n.min)&&(a=a.min(n.min)),n.max&&(a=a.max(n.max)),a},images:function(e,n){n=n||{};var a=l.IX().nullable(!0).label(e);return(n.required||n.min)&&(a=a.required()),n.min||0===n.min?a=a.min(n.min):n.required&&(a=a.min(1)),n.max&&(a=a.max(n.max)),a},files:function(e,n){n=n||{};var a=l.IX().compact().ensure().nullable(!0).label(e);return(n.required||n.min)&&(a=a.required()),n.min||0===n.min?a=a.min(n.min):n.required&&(a=a.min(1)),n.max&&(a=a.max(n.max)),a},enumerator:function(e,n){n=n||{};var a=l.Z_().transform((function(e,n){return""===n?null:e})).label(e).nullable(!0).oneOf([null].concat((0,r.Z)(n.options||[])));return n.required&&(a=a.required((0,i.ag)("validation.string.selected"))),a},email:function(e,n){n=n||{};var a=l.Z_().transform((function(e,n){return""===n?null:e})).nullable(!0).trim().label(e).email();return n.required&&(a=a.required()),(n.min||0===n.min)&&(a=a.min(n.min)),n.max&&(a=a.max(n.max)),n.matches&&(a=a.matches(n.matches)),a},decimal:function(e,n){n=n||{};var a=l.Rx().transform((function(e,n){return""===n?null:e})).nullable(!0).label(e);return n.required&&(a=a.required()),(n.min||0===n.min)&&(a=a.min(n.min)),n.max&&(a=a.max(n.max)),a},datetime:function(e,n){n=n||{};var a=l.nK().nullable(!0).label(e).transform((function(e,n){return e?s()(n,"YYYY-MM-DD HH:mm").toISOString():null}));return n.required&&(a=a.required()),a},date:function(e,n){n=n||{};var a=l.nK().nullable(!0).label(e).test("is-date",(0,i.ag)("validation.mixed.default"),(function(e){return!e||s()(e,"YYYY-MM-DD").isValid()})).transform((function(e){return e?s()(e).format("YYYY-MM-DD"):null}));return n.required&&(a=a.required()),a}};n.Z=o},86023:function(e,n,a){a.r(n),a.d(n,{default:function(){return k}});var r=a(47313),l=a(10499),i=a(13385),t=a(1413),s=a(70885),o=a(43270),u=a(45788),m=a(926),c=a(86495),d=a(89994),f=a(95748),x=a(85543),b=a(47575),h=a(68160),p=a(6473),g=a(96111),v=a(67357),N=a(46417),j=p.Ry().shape({firstName:d.Z.string((0,l.ag)("user.fields.firstName"),{max:80}),lastName:d.Z.string((0,l.ag)("user.fields.lastName"),{max:175}),phoneNumber:d.Z.string((0,l.ag)("user.fields.phoneNumber"),{matches:/^[0-9]/,max:24}),avatars:d.Z.images((0,l.ag)("user.fields.avatars"),{max:1})});var Z=function(e){var n=(0,u.I0)(),a=(0,u.v9)(c.Z.selectLoadingUpdateProfile),i=(0,u.v9)(c.Z.selectCurrentUser),d=(0,r.useState)((function(){var e=i||{};return{firstName:e.firstName,lastName:e.lastName,phoneNumber:e.phoneNumber,avatars:e.avatars||[]}})),p=(0,s.Z)(d,1)[0],Z=(0,o.cI)({resolver:(0,v.X)(j),mode:"all",defaultValues:p}),q=function(e){n(m.Z.doUpdateProfile(e))};return(0,N.jsx)(h.Z,{children:(0,N.jsx)(o.RV,(0,t.Z)((0,t.Z)({},Z),{},{children:(0,N.jsxs)("form",{onSubmit:Z.handleSubmit(q),children:[(0,N.jsxs)("div",{className:"row",children:[(0,N.jsx)("div",{className:"col-lg-7 col-md-8 col-12",children:(0,N.jsxs)("div",{className:"form-group",children:[(0,N.jsx)("label",{className:"col-form-label",htmlFor:"email",children:(0,l.ag)("user.fields.email")}),(0,N.jsx)("input",{type:"text",readOnly:!0,className:"form-control-plaintext",id:"email",name:"email",value:i.email})]})}),(0,N.jsx)("div",{className:"col-lg-7 col-md-8 col-12",children:(0,N.jsx)(b.Z,{name:"firstName",label:(0,l.ag)("user.fields.firstName"),autoComplete:"firstName",autoFocus:!0})}),(0,N.jsx)("div",{className:"col-lg-7 col-md-8 col-12",children:(0,N.jsx)(b.Z,{name:"lastName",label:(0,l.ag)("user.fields.lastName"),autoComplete:"lastName"})}),(0,N.jsx)("div",{className:"col-lg-7 col-md-8 col-12",children:(0,N.jsx)(b.Z,{name:"phoneNumber",label:(0,l.ag)("user.fields.phoneNumber"),autoComplete:"phoneNumber"})}),(0,N.jsx)("div",{className:"col-lg-7 col-md-8 col-12",children:(0,N.jsx)(x.Z,{name:"avatars",label:(0,l.ag)("user.fields.avatars"),storage:g.Z.values.userAvatarsProfiles,max:1})})]}),(0,N.jsxs)("div",{className:"form-buttons",children:[(0,N.jsxs)("button",{className:"btn btn-primary",disabled:a,type:"button",onClick:Z.handleSubmit(q),children:[(0,N.jsx)(f.Z,{loading:a,iconClass:"far fa-save"}),(0,l.ag)("common.save")]}),(0,N.jsxs)("button",{disabled:a,onClick:function(){Object.keys(p).forEach((function(e){Z.setValue(e,p[e])}))},className:"btn btn-light",type:"button",children:[(0,N.jsx)("i",{className:"fas fa-undo"}),(0,l.ag)("common.reset")]}),e.onCancel?(0,N.jsxs)("button",{disabled:a,onClick:function(){return e.onCancel()},className:"btn btn-light",type:"button",children:[(0,N.jsx)("i",{className:"fas fa-times"}),(0,l.ag)("common.cancel")]}):null]})]})}))})},q=a(27829),C=a(53852),y=a(75352);var k=function(){return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(C.Z,{items:[[(0,l.ag)("dashboard.menu"),"/"],[(0,l.ag)("auth.profile.title")]]}),(0,N.jsxs)(q.Z,{children:[(0,N.jsx)(y.Z,{children:(0,l.ag)("auth.profile.title")}),(0,N.jsx)(Z,{onCancel:function(){return(0,i.s1)().push("/")}})]})]})}},49384:function(e,n,a){a.d(n,{Z:function(){return i}});var r=a(15671),l=a(43144),i=function(){function e(){(0,r.Z)(this,e)}return(0,l.Z)(e,null,[{key:"errorMessage",value:function(e,n,a,r){var l,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(i)return i;if(!r&&!a[e])return null;var t=n[e];return(null===t||void 0===t||null===(l=t[0])||void 0===l?void 0:l.message)||(null===t||void 0===t?void 0:t.message)||t||null}}]),e}()},85543:function(e,n,a){var r=a(47313),l=a(79183),i=a(43270),t=a(49384),s=a(46417);function o(e){var n=e.label,a=e.name,o=e.hint,u=e.storage,m=e.max,c=e.required,d=e.externalErrorMessage,f=(0,i.Gc)(),x=f.errors,b=f.formState,h=b.touched,p=b.isSubmitted,g=f.setValue,v=f.watch,N=f.register;(0,r.useEffect)((function(){N({name:a})}),[N,a]);var j=t.Z.errorMessage(a,x,h,p,d);return(0,s.jsxs)("div",{className:"form-group",children:[Boolean(n)&&(0,s.jsx)("label",{className:"col-form-label ".concat(c?"required":null),htmlFor:a,children:n}),(0,s.jsx)("br",{}),(0,s.jsx)(l.Z,{storage:u,value:v(a),onChange:function(n){g(a,n,{shouldValidate:!0,shouldDirty:!0}),e.onChange&&e.onChange(n)},max:m}),(0,s.jsx)("div",{className:"invalid-feedback",children:j}),Boolean(o)&&(0,s.jsx)("small",{className:"form-text text-muted",children:o})]})}o.defaultProps={max:void 0,required:!1},n.Z=o},47575:function(e,n,a){a(47313);var r=a(43270),l=a(49384),i=a(46417);function t(e){var n=e.label,a=e.description,t=e.name,s=e.hint,o=e.type,u=e.placeholder,m=e.autoFocus,c=e.autoComplete,d=e.required,f=e.externalErrorMessage,x=e.disabled,b=e.endAdornment,h=(0,r.Gc)(),p=h.register,g=h.errors,v=h.formState,N=v.touched,j=v.isSubmitted,Z=l.Z.errorMessage(t,g,N,j,f);return(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsxs)("div",{className:b?"input-group":"",children:[Boolean(n)&&(0,i.jsx)("label",{className:"col-form-label ".concat(d?"required":null),htmlFor:t,children:n}),a,(0,i.jsx)("input",{id:t,name:t,type:o,ref:p,onChange:function(n){e.onChange&&e.onChange(n.target.value)},onBlur:function(n){e.onBlur&&e.onBlur(n)},placeholder:u||void 0,autoFocus:m||void 0,autoComplete:c||void 0,disabled:x,className:"form-control ".concat(Z?"is-invalid":"")}),b&&(0,i.jsx)("div",{className:"input-group-append",children:(0,i.jsx)("span",{className:"input-group-text",children:b})})]}),(0,i.jsx)("div",{className:"invalid-feedback",children:Z}),Boolean(s)&&(0,i.jsx)("small",{className:"form-text text-muted",children:s})]})}t.defaultProps={type:"text",required:!1},n.Z=t},68160:function(e,n,a){var r,l=a(30168),i=a(38269).ZP.div(r||(r=(0,l.Z)(["\n  padding-top: 0;\n  padding-bottom: 0;\n\n  label.required::before {\n    display: inline-block;\n    margin-right: 4px;\n    content: '*';\n    line-height: 1;\n    font-size: 13px;\n    color: #f5222d;\n  }\n  .app__specification {\n    padding: 14px;\n  }\n  .react-datepicker-wrapper {\n    width: 100%;\n  }\n  i {\n    padding-right: 4px;\n    font-size: 14px;\n  }\n  .adherent-control {\n    z-index: 0;\n  }\n\n  .invalid-feedback {\n    display: block;\n  }\n\n  .form-buttons {\n    padding-top: 16px;\n\n    .btn {\n      margin-right: 8px;\n      margin-bottom: 8px;\n    }\n  }\n"])));n.Z=i}}]);